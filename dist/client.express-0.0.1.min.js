// client.express.js JavaScript Routing, version: 0.0.1
// (c) 2011 Mark Nijhof
//
//  Released under MIT license.
//
ClientExpress={};ClientExpress.createServer=function(){return new ClientExpress.Server};ClientExpress.supported=function(){return typeof window.history.pushState=="function"};
ClientExpress.Server=function(){function c(e,f,a,c){b.registerRoute(f,a,c);return e}var b,d=function(){b=new ClientExpress.Router},a=d.prototype;a.version=function(){return"0.0.1"};a.router=function(){return b};a.get=function(e,a){return c(this,"get",e,a)};a.post=function(e,a){return c(this,"post",e,a)};a.put=function(a,f){return c(this,"put",a,f)};a.del=function(a,f){return c(this,"del",a,f)};return d}();
ClientExpress.Route=function(c,b,d,a){this.resolved=function(){return!0};this.method=c;this.path=b;this.action=d;this.regexp=function(a,c,b){if(a instanceof RegExp)return a;a=a.concat("/?").replace(/\/\(/g,"(?:/").replace(/(\/)?(\.)?:(\w+)(?:(\(.*?\)))?(\?)?/g,function(a,b,e,d,g,h){c.push({name:d,optional:!!h});b=b||"";return""+(h?"":b)+"(?:"+(h?b:"")+(e||"")+(g||"([^/]+?)")+")"+(h||"")}).replace(/([\/.])/g,"\\$1").replace(/\*/g,"(.+)");return RegExp("^"+a+"$",b?"":"i")}(b,this.keys=[],a.sensitive)};
ClientExpress.Route.prototype.match=function(c){return this.regexp.exec(c)};ClientExpress.Router=function(){var c,b=function(){c={get:[],post:[],put:[],del:[]}},d=b.prototype;d.match=function(a,b){for(var d=c[a].length,g=0;g<d;++g){var i=c[a][g];if(i.match(b))return i}return{resolved:function(){return!1}}};d.registerRoute=function(a,b,d){c[a].push(new ClientExpress.Route(a,b,d,{sensitive:!1}))};return b}();
