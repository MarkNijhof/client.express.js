<html>
	<head>
		<link type="text/css" rel="stylesheet" href="jspec.css" />
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.4/jquery.min.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/jquery-ui.min.js"></script>
    <script>
      // var ___setTimeout = setTimeout;
      // var ___clearTimeout = clearTimeout;
      // $(document).ready(function() {
      //   var t = ___setTimeout(function(){location.reload();}, 60000);
      // });
    </script>

    <script src='/src/client.express.js' type='text/javascript'></script>
    <script src='/src/client.express.logger.js' type='text/javascript'></script>
    <script src='/src/client.express.server.js' type='text/javascript'></script>
    <script src='/src/client.express.route.js' type='text/javascript'></script>
    <script src='/src/client.express.router.js' type='text/javascript'></script>
    <script src='/src/client.express.event.broker.js' type='text/javascript'></script>
    <script src='/src/client.express.event.listener.js' type='text/javascript'></script>
    <script src='/src/client.express.request.js' type='text/javascript'></script>
    <script src='/src/client.express.response.js' type='text/javascript'></script>
    <script src='/src/client.express.utils.js' type='text/javascript'></script>
    <script src='/src/client.express.ondomready.js' type='text/javascript'></script>
    <script src='/src/client.express.require.js' type='text/javascript'></script>
    <script src='/src/client.express.require.ejs.js' type='text/javascript'></script>

    <script src="fulljslint.js"></script>
		<script>
			function runSuites() {

        function lintLoader(scriptUrl){
          $.ajax({
            url: scriptUrl,
            type: 'GET',
            dataType: 'text',
            //error: function(XMLHttpRequest, textStatus, errorThrown) {
                //console.log(errorThrown);
            //},
            success: function(data, response){
              var result = JSLINT(data);
              $('#jspec').append("<h3 style='margin-left: 25px;'>"+ scriptUrl +"</h3>");
              $('#jspec').append(JSLINT.report(true));
            }
          });
        }
        $('#jspec').html('');
        lintLoader("/src/client.express.js?timestamp=" + new Date().now);
        lintLoader("/src/client.express.logger.js?timestamp=" + new Date().now);
        lintLoader("/src/client.express.server.js?timestamp=" + new Date().now);
        lintLoader("/src/client.express.route.js?timestamp=" + new Date().now);
        lintLoader("/src/client.express.router.js?timestamp=" + new Date().now);
        lintLoader("/src/client.express.event.broker.js?timestamp=" + new Date().now);
        lintLoader("/src/client.express.event.listener.js?timestamp=" + new Date().now);
        lintLoader("/src/client.express.request.js?timestamp=" + new Date().now);
        lintLoader("/src/client.express.response.js?timestamp=" + new Date().now);
        lintLoader("/src/client.express.utils.js?timestamp=" + new Date().now);
        lintLoader("/src/client.express.ondomready.js?timestamp=" + new Date().now);
        lintLoader("/src/client.express.require.js?timestamp=" + new Date().now);
        lintLoader("/src/client.express.require.ejs.js?timestamp=" + new Date().now);
			}
		</script>
	</head>
	<body class="jspec" onLoad="runSuites();">
		<div id="jspec-top"><h2 id="jspec-title">JS Lint <em></em></h2><br /></div>
		<div id="jspec"><div class="loading"></div></div>
		<div id="jspec-bottom"></div>
	</body>
</html>